import { simpsonsQuoteTest, simpsonsQuoteTest1, simpsonsQuoteTest2 } from './simpsonsQuoteData';

describe('Home page flow', ()=> {
    it('Should be able to favorite a quote', () => {
        cy.intercept('GET', 'https://thesimpsonsquoteapi.glitch.me/quotes', simpsonsQuoteTest)
        cy.visit('http://localhost:3000/home')
            .get('svg')
                .should('have.class', 'heart')
        cy.get('svg').click()
            .get('svg')
                .should('have.class', 'checked')
    })
    it('Should be able to view favorite quotes', () => {
        cy.intercept('GET', 'https://thesimpsonsquoteapi.glitch.me/quotes', simpsonsQuoteTest1)
        cy.visit('http://localhost:3000/home')
        cy.get('svg').click()
            .get('svg')
                .should('have.class', 'checked')
        cy.contains('Fav Quotes').click()
            .get('section')
                .should('have.class', 'quote')
            .get('p')
                .should('have.class', 'quote-font')
                .contains("Hey, I'm the chief here. Bake him away, toys.")
    })
    it('Should be able to delete a quote in favorite quotes list', () => {
        cy.intercept('GET', 'https://thesimpsonsquoteapi.glitch.me/quotes', simpsonsQuoteTest2)
        cy.visit('http://localhost:3000/home')
        cy.get('svg').click()
            .get('svg')
                .should('have.class', 'checked')
        cy.contains('Fav Quotes').click()
            .get('section')
                .should('have.class', 'quote')
            .get('p')
                .should('have.class', 'quote-font')
                .contains('I live in a single room above a bowling alley...and below another bowling alley.')
        cy.get('svg').click()
    })
})